language: csharp
solution: LdapUserManager.sln

dotnet: 2.2
mono: none

install:
  - dotnet restore LdapUserManager.sln
before_script: cd minicover
script:
  - dotnet build ../
  - dotnet test ../
  - cd minicover
  - dotnet minicover instrument --workdir ../ --assemblies LdapUserManager.Test/**/bin/**/*.dll --sources LdapUserManager/**/*.cs 
  - dotnet minicover reset
  - dotnet minicover coverallsreport --root-path ../ --workdir ../ --repo-token "$coverallToken"
